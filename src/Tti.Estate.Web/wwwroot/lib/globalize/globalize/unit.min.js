!function(e,t){"function"==typeof define&&define.amd?define(["cldr","../globalize","./number","./plural"],t):"object"==typeof exports?module.exports=t(require("cldrjs"),require("../globalize")):t(e.Cldr,e.Globalize)}(this,function(e,t){var P=t._formatMessage,c=t._runtimeBind,b=t._validateParameterPresence,s=t._validateParameterTypePlainObject,g=t._validateParameterTypeNumber,f=t._validateParameterTypeString,d=function(f,d,v){return function(e){return b(e,"value"),g(e,"value"),t=e,r=f,n=d,s=(a=v).compoundUnitPattern,a=a.unitProperties,u=r(t),c=n(t),a instanceof Array?(o=a[0],m=a[1],i=P(o[c],[t]),l=P(m.one,[""]).trim(),P(s,[i,l])):(p=a[c],P(p,[u]));var t,r,n,a,i,o,u,l,m,p,c,s}},i=["acceleration","angle","area","digital","duration","length","mass","power","pressure","speed","temperature","volume"];var o=function(t,r,n){var a;if(t=t.replace(/\//,"-per-"),[""].concat(i).some(function(e){return a=n.main(["units",r,e.length?e+"-"+t:t])}),(a=function(e){var t,r;if(e)for(r in t={},e)t[r.replace(/unitPattern-count-/,"")]=e[r];return t}(a))||!/-per-/.test(t)||(t=t.split("-per-"),(a=t.map(function(e){return o(e,r,n)}))[0]&&a[1]))return a},v=o;return t.formatUnit=t.prototype.formatUnit=function(e,t,r){return b(e,"value"),g(e,"value"),this.unitFormatter(t,r)(e)},t.unitFormatter=t.prototype.unitFormatter=function(e,t){var r,n,a,i,o,u,l,m,p;return b(e,"unit"),f(e,"unit"),s(t,"options"),r=[e,t=t||{}],n=t.form||"long",l=e,m=n,u={compoundUnitPattern:(p=this.cldr).main(["units",m,"per/compoundUnitPattern"]),unitProperties:v(l,m,p)},a=t.numberFormatter||this.numberFormatter(),i=this.pluralGenerator(),o=d(a,i,u),c(r,this.cldr,o,[a,i,u]),o},t});